<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>가짜 채팅 만들기</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&family=Black+Han+Sans&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="controls">
            <h2>채팅 만들기</h2>
            
            <div class="control-group">
                <label>명령어 붙여넣기 <i class="fa-solid fa-pen-to-square" onclick="openCommandHelp()" style="cursor: pointer; font-size: 15px; margin-left: 5px;"></i></label>
                <textarea class="input-field auto-resize" id="commandInput" placeholder="AI가 생성한 명령어를 붙여넣으세요" rows="3" oninput="parseCommand(); autoResize(this)"></textarea>
            </div>
            
            <hr class="divider">
            
            <div class="control-group">
                <label>화면 전환</label>
                <div class="screen-buttons">
                    <button class="screen-btn active" onclick="switchScreen('lock')">잠금화면</button>
                    <button class="screen-btn" onclick="switchScreen('home')">홈화면</button>
                    <button class="screen-btn" onclick="switchScreen('chat')">카톡화면</button>
                </div>
            </div>

            <hr class="divider">

            <div class="control-group">
                <label>전체화면 이미지</label>
                <span class="input-label">폰 뒤 배경 이미지</span>
                <div class="file-input-group">
                    <input type="file" class="input-field file-input" id="imageInput" accept="image/*" onchange="updateBackground(); toggleDeleteButton('imageInput')">
                    <button class="delete-btn" id="deleteBtn1" onclick="clearBackground()">X</button>
                </div>
                
                <span class="input-label">페어명</span>
                <input type="text" class="input-field" id="pairNameInput" placeholder="페어명을 입력하세요" oninput="updatePairName()">
            </div>

            <hr class="divider">

            <div class="control-group lock-only">
                <label>잠금화면 설정</label>
                <span class="input-label">잠금화면 배경 이미지</span>
                <div class="file-input-group">
                    <input type="file" class="input-field file-input" id="lockImageInput" accept="image/*" onchange="updateLockBackground(); toggleDeleteButton('lockImageInput')">
                    <button class="delete-btn" id="deleteBtn2" onclick="clearLockBackground()">X</button>
                </div>
                
                <span class="input-label">날짜 커스텀</span>
                <div class="date-input-group">
                    <input type="date" class="input-field date-picker" id="lockDatePicker" onchange="updateLockDateFromPicker()">
                    <input type="text" class="input-field" id="lockDateInput" placeholder="March 15, Wednesday" oninput="updateLockDate()">
                </div>

                <span class="input-label">시간 글씨체 스킨</span>
                <div class="font-skin-buttons">
                    <button class="font-skin-btn active" onclick="changeLockFont('default')">기본</button>
                    <button class="font-skin-btn" onclick="changeLockFont('heavy')">두껍게</button>
                    <button class="font-skin-btn" onclick="changeLockFont('serif')">명조체</button>
                </div>
                
                <span class="input-label">뮤직플레이어 스킨</span>
                <div class="music-skin-buttons">
                    <button class="music-skin-btn active" onclick="changeMusicSkin('glass-card')">유리 카드</button>
                    <button class="music-skin-btn" onclick="changeMusicSkin('minimalist')">미니멀</button>
                    <button class="music-skin-btn" onclick="changeMusicSkin('album-cover')">앨범 커버</button>
                    <button class="music-skin-btn" onclick="changeMusicSkin('lyrics')">가사 강조</button>
                </div>
                
                <span class="input-label">앨범 아트</span>
                <div class="file-input-group">
                    <input type="file" class="input-field file-input" id="albumArtInput" accept="image/*" onchange="updateAlbumArt(); toggleDeleteButton('albumArtInput')">
                    <button class="delete-btn" id="deleteBtn6" onclick="clearAlbumArt()">X</button>
                </div>
                
                <div id="lyricsInputGroup" style="display: none;">
                    <span class="input-label">위젯 가사 입력</span>
                    <textarea class="input-field" id="lyricsInput" placeholder="위젯에 표시될 가사를 입력하세요" rows="2" oninput="renderMusicWidget()"></textarea>
                </div>
            </div>

            <div class="control-group home-only">
                <label>홈화면 설정</label>
                <span class="input-label">홈화면 배경 이미지</span>
                <div class="file-input-group">
                    <input type="file" class="input-field file-input" id="homeImageInput" accept="image/*" onchange="updateHomeBackground(); toggleDeleteButton('homeImageInput')">
                    <button class="delete-btn" id="deleteBtn3" onclick="clearHomeBackground()">X</button>
                </div>
                
                <div class="preset-container">
                    <span class="preset-label">아이폰:</span>
                    <button class="preset-btn black" onclick="setHomePreset('https://i.imgur.com/0FBgjgT.jpeg')" title="검정">■</button><button class="preset-btn silver" onclick="setHomePreset('https://i.imgur.com/TPLl0Xq.jpeg')" title="은색">■</button><button class="preset-btn blue" onclick="setHomePreset('https://i.imgur.com/EGGtUkr.jpeg')" title="파랑">■</button><button class="preset-btn green" onclick="setHomePreset('https://i.imgur.com/isOfd1P.jpeg')" title="초록">■</button><button class="preset-btn pink" onclick="setHomePreset('https://i.imgur.com/MUYgJz3.jpeg')" title="핑크">■</button>
                    <span class="preset-label" style="margin-left: 10px;">갤럭시:</span>
                    <button class="preset-btn gold" onclick="setHomePreset('https://i.imgur.com/F4Hh6DF.jpeg')" title="금색">■</button><button class="preset-btn light-silver" onclick="setHomePreset('https://i.imgur.com/kwTQ8DJ.jpeg')" title="옅은은색">■</button><button class="preset-btn light-blue" onclick="setHomePreset('https://i.imgur.com/jcctG4I.jpeg')" title="옅은파랑">■</button><button class="preset-btn light-green" onclick="setHomePreset('https://i.imgur.com/4dWZg52.jpeg')" title="옅은초록">■</button><button class="preset-btn light-pink" onclick="setHomePreset('https://i.imgur.com/3Pw8RBy.jpeg')" title="옅은핑크">■</button>
                </div>
            </div>

            <div class="control-group chat-only">
                <label>스킨 선택</label>
                <div class="skin-buttons">
                    <button class="skin-btn active" onclick="changeSkin('kakao')">카카오톡</button>
                    <button class="skin-btn" onclick="changeSkin('imessage')">아이메세지</button>
                    <button class="skin-btn" onclick="changeSkin('line')">라인</button>
                </div>
            </div>

            <hr class="divider">

            <div class="control-group chat-only">
                <label>카톡화면 설정</label>
                <span class="input-label">채팅 배경 이미지</span>
                <div class="file-input-group">
                    <input type="file" class="input-field file-input" id="chatImageInput" accept="image/*" onchange="updateChatBackground(); toggleDeleteButton('chatImageInput')">
                    <button class="delete-btn" id="deleteBtn4" onclick="clearChatBackground()">X</button>
                </div>
                
                <span class="input-label">프로필 이미지</span>
                <div class="file-input-group">
                    <input type="file" class="input-field file-input" id="profileImageInput" accept="image/*" onchange="updateProfileImage(); toggleDeleteButton('profileImageInput')">
                    <button class="delete-btn" id="deleteBtn5" onclick="clearProfileImage()">X</button>
                </div>
                
                <input type="text" class="input-field" id="chatnameInput" placeholder="채팅방 이름" oninput="updateChatname()">
            </div>

            <div class="control-group">
                <div class="button-group">
                    <button class="btn btn-secondary" onclick="clearAll()">전체 삭제</button>
                    <button class="btn btn-danger" onclick="saveScreenshot()">스크린샷 저장</button>
                    <button class="btn btn-primary" onclick="saveAllScreenshots()">3화면 한번에</button>
                </div>
            </div>
        </div>

        <div class="phone-wrapper" id="phoneWrapper">
            <div class="pair-name" id="pairName"></div>
            
            <div class="phone" id="phone">
                <div class="volume-up"></div>
                <div class="volume-down"></div>
                <div class="side-button"></div>
                
                <div class="screen" id="screen">
                    <div class="screen-item lock-screen active" id="lockScreen" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
                        <div class="status-bar" style="background: transparent; color: white;">
                            <div class="status-left" id="lockStatusTime">9:41</div>
                            <div class="status-right">
                                <div class="signal-bars"><div class="signal-bar"></div><div class="signal-bar"></div><div class="signal-bar"></div><div class="signal-bar"></div></div>
                                <span class="mobile-text">LTE</span>
                                <div class="battery"><div class="battery-fill"></div></div>
                            </div>
                        </div>
                        <div class="lock-content">
                            <div class="lock-time">
                                <div class="lock-hour font-default" id="lockHour">9:41</div>
                                <div class="lock-date" id="lockDate">March 15, Wednesday</div>
                            </div>
                            <div class="lock-music-widget" id="lockMusicWidget"></div>
                            <div class="lock-bottom">
                                <div class="lock-phone"><i class="fa-solid fa-phone"></i></div>
                                <div class="lock-camera"><i class="fa-solid fa-camera"></i></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="screen-item home-screen" id="homeScreen" style="background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);">
                        <div class="status-bar" style="color: #000;">
                            <div class="status-left" id="homeStatusTime">9:41</div>
                            <div class="status-right">
                                <div class="signal-bars"><div class="signal-bar"></div><div class="signal-bar"></div><div class="signal-bar"></div><div class="signal-bar"></div></div>
                                <span class="mobile-text">LTE</span>
                                <div class="battery"><div class="battery-fill"></div></div>
                            </div>
                        </div>
                        <div class="home-content"><div class="app-grid" id="appGrid"></div><div class="home-dock"><div class="dock-app"><i class="fa-solid fa-phone"></i></div><div class="dock-app"><i class="fa-solid fa-envelope"></i></div><div class="dock-app"><i class="fa-solid fa-earth-americas"></i></div><div class="dock-app"><i class="fa-solid fa-camera"></i></div></div></div>
                    </div>

                    <div class="screen-item chat-screen" id="chatScreen">
                        <div class="status-bar"><div class="status-left" id="statusTime">9:41</div><div class="status-right"><div class="signal-bars"><div class="signal-bar"></div><div class="signal-bar"></div><div class="signal-bar"></div><div class="signal-bar"></div></div><span class="mobile-text">LTE</span><div class="battery"><div class="battery-fill"></div></div></div></div>
                        <div class="chat-header"><div class="back-button">‹</div><div class="profile-pic" id="profilePic">🐱</div><div class="chat-info"><div class="chat-name">채팅방</div></div><div class="menu-icon">☰</div></div>
                        <div class="chat-messages" id="chatMessages"></div>
                        <div class="chat-input-area"><div class="chat-input-container"><input type="text" class="chat-input" placeholder="메시지"></div><button class="send-button"><span style="margin-left: -2px;"><i class="fa-solid fa-paper-plane"></i></span></button></div>
                    </div>
                </div>
            </div>
            </div>
        </div>
    </div>

    <div class="popup-overlay" id="popupOverlay"><div class="popup"><h3>명령어 가이드</h3><textarea readonly>[OOC 모드 - 롤플레이 잠시 정지]

다음 양식으로만 답변:
[{색상코드}]
[{핸드폰 홈배경 어플 이모지들}][{어플 이름들}]
[{sns 유저 저장명}]
[{sns 캐릭터 저장명}]
[{캐릭터 이모지}]
[{카카오톡/아이메세지/라인}]
[{음악 제목}]
[{음악 아티스트}]

< > = 유저 메시지 (오른쪽)
( ) = 캐릭터 메시지 (왼쪽)

<{sns 유저 메시지}> <{오후/오전 시간}>
({sns 캐릭터 메시지}) ({오후/오전 시간})</textarea><div class="popup-buttons"><button class="btn btn-secondary" onclick="closeCommandHelp()">닫기</button><button class="btn btn-primary" onclick="copyCommandTemplate()">복사</button></div></div></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
